(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{247:function(e,a,t){e.exports=t(582)},252:function(e,a,t){},262:function(e,a){},263:function(e,a){},283:function(e,a){},285:function(e,a){},506:function(e,a){},576:function(e,a,t){},579:function(e,a,t){},580:function(e,a,t){},582:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),s=t(245),i=t.n(s),c=t(585),o=t(29),l=t(30),u=t(32),d=t(31),p=t(33),h=(t(252),t(44)),m=t(51),v=t(584),g=(t(576),function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.username,a=this.props.user;return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-blue fixed-top"},r.a.createElement(v.a,{className:"navbar-brand",to:"/"},"My Favorite"),r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(v.a,{className:"nav-link",to:"/"},e))),r.a.createElement("img",{src:a.avatarUrl()?a.avatarUrl():"./avatar-placeholder.png",class:"avatar",width:"25",height:"25",alt:""}),r.a.createElement("button",{className:"btn btn-primary",onClick:this.props.signOut.bind(this)},"Sign out"))}}]),a}(n.Component)),f=function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.catagory,a=this.props.values;return r.a.createElement("div",null,"undefined"!==typeof a&&r.a.createElement("div",{class:"card shadow mx-auto border-primary mb-3"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h5",{class:"card-title"},e)),r.a.createElement("div",{class:"card-body"},r.a.createElement("ul",null,a.map(function(e){return r.a.createElement("li",null,e)})))))}}]),a}(n.Component);function b(e){return JSON.parse(JSON.stringify(e))}var y=new m.AppConfig(["store_write","publish_data"]),k=(t(579),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={tasks:[],value:"",catagory:"Random",catagoryMap:[]},t.catagoryList=["Food","Random","Drinks","Travel","Games","Cars"],t.loadTasks=t.loadTasks.bind(Object(h.a)(t)),t.handleChange=t.handleChange.bind(Object(h.a)(t)),t.handleCatagoryChange=t.handleCatagoryChange.bind(Object(h.a)(t)),t.addTask=t.addTask.bind(Object(h.a)(t)),t.updateCatagoryMap=t.updateCatagoryMap.bind(Object(h.a)(t)),t}return Object(p.a)(a,e),Object(l.a)(a,[{key:"componentWillMount",value:function(){this.loadTasks()}},{key:"componentWillReceiveProps",value:function(e){var a=e.tasks;a&&a.length!==this.state.tasks.length&&this.setState({tasks:b(a)})}},{key:"loadTasks",value:function(){var e=this;this.props.userSession.getFile("favorite1.json",{decrypt:!0}).then(function(a){if(a){var t=JSON.parse(a);e.setState({tasks:t}),e.updateCatagoryMap(t)}})}},{key:"updateCatagoryMap",value:function(e){var a=[];e.map(function(e){var t=e[0].catagory,n=e[0].value;t in a?a[t].push(n):a[t]=[n],console.log(a)}),this.setState({catagoryMap:a})}},{key:"saveTasks",value:function(e){this.props.userSession.putFile("favorite1.json",JSON.stringify(e),{encrypt:!0}),this.updateCatagoryMap(e)}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleCatagoryChange",value:function(e){this.setState({catagory:e.target.value})}},{key:"addTask",value:function(e){e.preventDefault();var a=function(e){var a={value:e.value,catagory:e.catagory},t=b(e.tasks);return t.push([a]),t}(this.state);this.setState({value:"",tasks:a}),this.saveTasks(a)}},{key:"checkTask",value:function(e){var a=function(e,a){var t=b(a.tasks);return t[e][1]=!t[e][1],t}(e.target.dataset.index,this.state);this.setState({tasks:a}),this.saveTasks(a)}},{key:"render",value:function(){var e=this,a=this.props.userSession.loadUserData().username,t=this.props.userSession.loadUserData(),n=new m.Person(t);return r.a.createElement("div",{className:"Dashboard"},r.a.createElement(g,{username:a,user:n,signOut:this.props.handleSignOut}),r.a.createElement("div",{className:"row justify-content-center",id:"header"},r.a.createElement("h3",{className:"user-info"},a,"'s favorites")),r.a.createElement("br",null),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{id:"addTask",className:"frame",style:{borderColor:"#f8f9fa"}},r.a.createElement("form",{onSubmit:this.addTask,className:"input-group"},r.a.createElement("select",{class:"form-control",id:"catagorySelectId",value:this.state.catagory,onChange:this.handleCatagoryChange},this.catagoryList.map(function(e){return r.a.createElement("option",{value:e},e)})),r.a.createElement("input",{className:"form-control",type:"text",onChange:this.handleChange,value:this.state.value,required:!0,placeholder:"To-do...",autoFocus:!0}),r.a.createElement("div",{className:"input-group-append",id:"add-task"},r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Add"}))))),r.a.createElement("br",null),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"frame"},this.catagoryList.map(function(a,t){return r.a.createElement(f,{catagory:a,values:e.state.catagoryMap[a]})}))))}}]),a}(n.Component));k.defaultProps={userSession:new m.UserSession(y)};var E=k,O=(t(580),function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(l.a)(a,[{key:"render",value:function(){var e=this.props.handleSignIn;return r.a.createElement("div",{className:"intro"},r.a.createElement("div",{className:"panel-landing",id:"section-1"},r.a.createElement("h1",{className:"landing-heading"},"Favorite List"),r.a.createElement("p",null,"A decentralized Favorite app built on ",r.a.createElement("a",{href:"https://blockstack.org",target:"_blank",rel:"noopener noreferrer"},"Blockstack")),r.a.createElement("button",{className:"btn btn-primary btn-lg",id:"signin-button",onClick:e.bind(this)},"Sign In with Blockstack")))}}]),a}(n.Component)),S=new m.UserSession({appConfig:y}),j=function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(l.a)(a,[{key:"handleSignIn",value:function(e){e.preventDefault(),S.redirectToSignIn()}},{key:"handleSignOut",value:function(e){e.preventDefault(),S.signUserOut(window.location.origin)}},{key:"render",value:function(){return r.a.createElement("div",{className:"site-wrapper"},r.a.createElement("div",{className:"site-wrapper-inner"},S.isUserSignedIn()?r.a.createElement(E,{userSession:S,handleSignOut:this.handleSignOut}):r.a.createElement(O,{userSession:S,handleSignIn:this.handleSignIn})))}},{key:"componentWillMount",value:function(){S.isSignInPending()&&S.handlePendingSignIn().then(function(e){window.location=window.location.origin})}}]),a}(n.Component);t(581);i.a.render(r.a.createElement(c.a,null,r.a.createElement(j,null)),document.getElementById("app"))}},[[247,1,2]]]);
//# sourceMappingURL=main.bfd66e13.chunk.js.map