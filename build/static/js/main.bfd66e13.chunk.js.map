{"version":3,"sources":["components/NavBar.js","components/Card.js","assets/utils.js","assets/constants.js","components/Profile.js","components/Signin.js","components/App.js","index.js"],"names":["NavBar","username","this","props","user","react_default","a","createElement","className","Link","to","src","avatarUrl","class","width","height","alt","onClick","signOut","bind","Component","Card","catagory","values","map","item","jsonCopy","object","JSON","parse","stringify","appConfig","AppConfig","Profile","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","tasks","value","catagoryMap","catagoryList","loadTasks","assertThisInitialized","handleChange","handleCatagoryChange","addTask","updateCatagoryMap","nextProps","nextTasks","length","setState","_this2","userSession","getFile","decrypt","then","content","task","push","console","log","putFile","encrypt","event","target","e","preventDefault","add","saveTasks","index","check","dataset","_this3","loadUserData","profile","person","Person","components_NavBar","handleSignOut","id","style","borderColor","onSubmit","onChange","type","required","placeholder","autoFocus","components_Card","defaultProps","UserSession","Signin","handleSignIn","href","rel","App","redirectToSignIn","signUserOut","window","location","origin","isUserSignedIn","components_Profile","components_Signin","isSignInPending","handlePendingSignIn","userData","ReactDOM","render","BrowserRouter","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.bfd66e13.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport '../styles/NavBar.css'\n\nclass NavBar extends Component {\n\n  render() {\n    const username = this.props.username\n    const user = this.props.user\n    return (\n      <nav className=\"navbar navbar-expand-md navbar-dark bg-blue fixed-top\">\n        <Link className=\"navbar-brand\" to=\"/\">My Favorite</Link>\n        <ul className=\"navbar-nav mr-auto\">\n          <li className=\"nav-item\">\n            <Link className=\"nav-link\" to='/'>{username}</Link>\n          </li>\n        </ul>\n        <img src={user.avatarUrl() ? user.avatarUrl() : './avatar-placeholder.png'} class=\"avatar\" width=\"25\" height=\"25\"alt=\"\"/>\n        <button\n          className=\"btn btn-primary\"\n          onClick={this.props.signOut.bind(this)}\n        >Sign out\n        </button>\n\n      </nav>\n    )\n  }\n}\n\nexport default NavBar\n","import React, { Component } from 'react'\n\nclass Card extends Component {\n\n  render() {\n    const catagory = this.props.catagory\n    const values = this.props.values\n    return (\n        <div>\n        { typeof values !== \"undefined\" &&\n          <div class=\"card shadow mx-auto border-primary mb-3\">\n          <div class=\"card-header\">\n            <h5 class=\"card-title\">{catagory}</h5>\n          </div>\n            <div class=\"card-body\">\n              <ul>\n              {values.map((item) => <li>{item}</li>\n              )}\n              </ul>\n            </div>\n          </div>\n        }\n      </div>\n    )\n  }\n}\n\nexport default Card\n","// These functions have been extracted out of Dashboard.js since\n// they are the logical functions being tested.\n\nexport function jsonCopy(object) {\n  return JSON.parse(JSON.stringify(object))\n}\n\n// All three functions take in a state and return a list object of tasks\nexport function remove(index, state) {\n  const tasks = jsonCopy(state.tasks)\n  tasks.splice(index, 1) // remove subject at index\n  return tasks\n}\n\nexport function add(state) {\n  const task = { \"value\": state.value, \"catagory\": state.catagory}\n  const tasks = jsonCopy(state.tasks)\n  tasks.push([task])\n  return tasks\n}\n\nexport function check(index, state) {\n  const tasks = jsonCopy(state.tasks)\n  tasks[index][1] = !tasks[index][1]\n  return tasks\n}\n","import { AppConfig } from 'blockstack'\n\nexport const appConfig = new AppConfig(['store_write', 'publish_data'])\n\nexport const TASKS_FILENAME = 'favorite1.json'\n\nexport const EXPLORER_URL = 'https://explorer.blockstack.org'\n","import React, { Component } from 'react'\nimport { UserSession, Person } from 'blockstack'\nimport NavBar from './NavBar'\nimport Card from './Card'\nimport {jsonCopy, remove, add, check} from '../assets/utils'\nimport { appConfig, TASKS_FILENAME } from '../assets/constants'\nimport '../styles/Profile.css'\n\nclass Profile extends Component {\n  constructor(props) {\n  \tsuper(props);\n\n  \tthis.state = {\n      tasks: [],\n      value: '',\n      catagory: 'Random',\n      catagoryMap:[]\n    }\n    this.catagoryList = [\"Food\",\"Random\",\"Drinks\",\"Travel\",\"Games\",\"Cars\"];\n    this.loadTasks = this.loadTasks.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleCatagoryChange = this.handleCatagoryChange.bind(this);\n    this.addTask = this.addTask.bind(this);\n    this.updateCatagoryMap = this.updateCatagoryMap.bind(this);\n    //this.removeTask = this.removeTask.bind(this);\n    //this.checkTask = this.checkTask.bind(this);\n  }\n\n  componentWillMount() {\n    this.loadTasks();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextTasks = nextProps.tasks;\n    if(nextTasks) {\n      if (nextTasks.length !== this.state.tasks.length) {\n        this.setState({ tasks: jsonCopy(nextTasks) });\n      }\n    }\n  }\n\n  loadTasks() {\n    const options = { decrypt: true };\n    this.props.userSession.getFile(TASKS_FILENAME, options)\n    .then((content) => {\n      if(content) {\n        const tasks = JSON.parse(content);\n        // map it with catagory\n        this.setState({tasks:tasks});\n        this.updateCatagoryMap(tasks);\n      }\n    })\n  }\n\n  updateCatagoryMap(tasks){\n    const catagoryMap = [];\n    tasks.map((task) => {\n          var catagory = task[0].catagory;\n          var value = task[0].value;\n          if(catagory in catagoryMap){\n              catagoryMap[catagory].push(value);\n          }\n          else {\n            catagoryMap[catagory] = [value];\n          }\n          console.log(catagoryMap);\n    });\n    this.setState({catagoryMap: catagoryMap});\n  }\n  saveTasks(tasks) {\n    const options = { encrypt: true };\n    this.props.userSession.putFile(TASKS_FILENAME, JSON.stringify(tasks), options);\n    this.updateCatagoryMap(tasks);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n   }\n\n   handleCatagoryChange(event) {\n     this.setState({catagory: event.target.value});\n    }\n\n  /*removeTask(e) {\n    e.preventDefault();\n    const tasks = remove(e.target.dataset.index, this.state);\n    this.setState({ tasks });\n    this.saveTasks(tasks);\n  }*/\n\n  addTask(e) {\n    e.preventDefault();\n    const tasks = add(this.state);\n    this.setState({value: '', tasks});\n    this.saveTasks(tasks);\n  }\n\n  checkTask(e) {\n    const tasks = check(e.target.dataset.index, this.state);\n    this.setState({ tasks });\n    this.saveTasks(tasks);\n  }\n\n  render() {\n    const username = this.props.userSession.loadUserData().username;\n    const profile = this.props.userSession.loadUserData();\n    const person = new Person(profile);\n    return (\n      <div className=\"Dashboard\">\n      <NavBar username={username} user={person} signOut={this.props.handleSignOut}/>\n        <div className=\"row justify-content-center\"id=\"header\">\n          <h3 className=\"user-info\">\n            {username}'s favorites\n          </h3>\n        </div>\n        <br></br>\n        <div className=\"row justify-content-center\">\n          <div\n            id=\"addTask\"\n            className=\"frame\"\n            style={{borderColor: '#f8f9fa'}}\n          >\n          <form onSubmit={this.addTask} className=\"input-group\">\n            <select class=\"form-control\" id=\"catagorySelectId\" value={this.state.catagory} onChange={this.handleCatagoryChange}>\n              {this.catagoryList.map((catagory) =>\n                  <option value={catagory}>{catagory}</option>\n              )}\n            </select>\n            <input\n                className=\"form-control\"\n                type=\"text\"\n                onChange={this.handleChange}\n                value={this.state.value}\n                required\n                placeholder=\"To-do...\"\n                autoFocus={true}\n              />\n              <div className=\"input-group-append\" id=\"add-task\">\n                <input type=\"submit\" className=\"btn btn-primary\" value=\"Add\"/>\n              </div>\n            </form>\n            </div>\n          </div>\n        <br></br>\n        <div className=\"row justify-content-center\">\n          <div className=\"frame\">\n            {this.catagoryList.map( (catagory , index ) =>\n                <Card catagory={catagory} values={this.state.catagoryMap[catagory]}/>\n            )}\n          </div>\n      </div>\n    </div>\n  );\n  }\n\n}\n\n// Made this a default prop (instead of using this.userSession) so a dummy userSession\n// can be passed in for testing purposes\nProfile.defaultProps = {\n  userSession: new UserSession(appConfig)\n};\n\nexport default Profile\n","import React, { Component } from 'react';\nimport '../styles/Signin.css'\n\nclass Signin extends Component {\n\n  render() {\n    const { handleSignIn } = this.props;\n\n    return (\n      <div className =\"intro\">\n        <div className=\"panel-landing\" id=\"section-1\">\n          <h1 className=\"landing-heading\">Favorite List</h1>\n          <p>A decentralized Favorite app built on <a href=\"https://blockstack.org\" target=\"_blank\"rel=\"noopener noreferrer\">Blockstack</a></p>\n          <button\n            className=\"btn btn-primary btn-lg\"\n            id=\"signin-button\"\n            onClick={ handleSignIn.bind(this) }\n          >\n            Sign In with Blockstack\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Signin\n","import React, { Component } from 'react';\nimport '../styles/App.css'\nimport Profile from './Profile.js';\nimport Signin from './Signin.js';\nimport { UserSession } from 'blockstack';\nimport { appConfig } from '../assets/constants'\n\n\nconst userSession = new UserSession({ appConfig })\n\nexport default class App extends Component {\n\n  handleSignIn(e) {\n    e.preventDefault();\n    userSession.redirectToSignIn();\n  }\n\n  handleSignOut(e) {\n    e.preventDefault();\n    userSession.signUserOut(window.location.origin);\n  }\n\n  render() {\n    return (\n      <div className=\"site-wrapper\">\n        <div className=\"site-wrapper-inner\">\n          { !userSession.isUserSignedIn() ?\n            <Signin userSession={userSession} handleSignIn={ this.handleSignIn } />\n            : <Profile userSession={userSession} handleSignOut={ this.handleSignOut } />\n          }\n        </div>\n      </div>\n    );\n  }\n\n  componentWillMount() {\n    if (userSession.isSignInPending()) {\n      userSession.handlePendingSignIn().then((userData) => {\n        //if (!userData.username) {\n        //  throw new Error('This app requires a username.')\n        //}\n        window.location = window.location.origin;\n      });\n    }\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './components/App.js';\nimport 'bootstrap/dist/css/bootstrap.css'\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('app'));"],"sourceRoot":""}